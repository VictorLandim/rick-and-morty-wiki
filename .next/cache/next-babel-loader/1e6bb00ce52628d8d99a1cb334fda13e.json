{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _router = _interopRequireDefault(require(\"next/router\"));\n\nvar _onDemandEntriesUtils = require(\"./on-demand-entries-utils\");\n\nvar _default = async _ref => {\n  var {\n    assetPrefix\n  } = _ref;\n\n  _router.default.ready(() => {\n    _router.default.events.on('routeChangeComplete', _onDemandEntriesUtils.setupPing.bind(void 0, assetPrefix, () => _router.default.pathname));\n  });\n\n  (0, _onDemandEntriesUtils.setupPing)(assetPrefix, () => _router.default.pathname, _onDemandEntriesUtils.currentPage); // prevent HMR connection from being closed when running tests\n\n  if (!process.env.__NEXT_TEST_MODE) {\n    document.addEventListener('visibilitychange', event => {\n      var state = document.visibilityState;\n\n      if (state === 'visible') {\n        (0, _onDemandEntriesUtils.setupPing)(assetPrefix, () => _router.default.pathname, true);\n      } else {\n        (0, _onDemandEntriesUtils.closePing)();\n      }\n    });\n    window.addEventListener('beforeunload', () => {\n      (0, _onDemandEntriesUtils.closePing)();\n    });\n  }\n};\n\nexports.default = _default;","map":{"version":3,"sources":["X:/Victor/Documents/dev/web/rick-and-morty-wiki/node_modules/next/dist/client/dev/on-demand-entries-client.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_router","_onDemandEntriesUtils","_default","_ref","assetPrefix","ready","events","on","setupPing","bind","pathname","currentPage","process","env","__NEXT_TEST_MODE","document","addEventListener","event","state","visibilityState","closePing","window"],"mappings":"AAAA;;AAAa,IAAIA,sBAAsB,GAACC,OAAO,CAAC,sDAAD,CAAlC;;AAA2FC,OAAO,CAACC,UAAR,GAAmB,IAAnB;AAAwBD,OAAO,CAACE,OAAR,GAAgB,KAAK,CAArB;;AAAuB,IAAIC,OAAO,GAACL,sBAAsB,CAACC,OAAO,CAAC,aAAD,CAAR,CAAlC;;AAA2D,IAAIK,qBAAqB,GAACL,OAAO,CAAC,2BAAD,CAAjC;;AAA+D,IAAIM,QAAQ,GAAC,MAAMC,IAAN,IAAa;AAAC,MAAG;AAACC,IAAAA;AAAD,MAAcD,IAAjB;;AAAsBH,EAAAA,OAAO,CAACD,OAAR,CAAgBM,KAAhB,CAAsB,MAAI;AAACL,IAAAA,OAAO,CAACD,OAAR,CAAgBO,MAAhB,CAAuBC,EAAvB,CAA0B,qBAA1B,EAAgDN,qBAAqB,CAACO,SAAtB,CAAgCC,IAAhC,CAAqC,KAAK,CAA1C,EAA4CL,WAA5C,EAAwD,MAAIJ,OAAO,CAACD,OAAR,CAAgBW,QAA5E,CAAhD;AAAwI,GAAnK;;AAAqK,GAAC,GAAET,qBAAqB,CAACO,SAAzB,EAAoCJ,WAApC,EAAgD,MAAIJ,OAAO,CAACD,OAAR,CAAgBW,QAApE,EAA6ET,qBAAqB,CAACU,WAAnG,EAA5L,CAA4S;;AACvlB,MAAG,CAACC,OAAO,CAACC,GAAR,CAAYC,gBAAhB,EAAiC;AAACC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA6CC,KAAK,IAAE;AAAC,UAAIC,KAAK,GAACH,QAAQ,CAACI,eAAnB;;AAAmC,UAAGD,KAAK,KAAG,SAAX,EAAqB;AAAC,SAAC,GAAEjB,qBAAqB,CAACO,SAAzB,EAAoCJ,WAApC,EAAgD,MAAIJ,OAAO,CAACD,OAAR,CAAgBW,QAApE,EAA6E,IAA7E;AAAoF,OAA1G,MAA8G;AAAC,SAAC,GAAET,qBAAqB,CAACmB,SAAzB;AAAuC;AAAC,KAA/O;AAAiPC,IAAAA,MAAM,CAACL,gBAAP,CAAwB,cAAxB,EAAuC,MAAI;AAAC,OAAC,GAAEf,qBAAqB,CAACmB,SAAzB;AAAuC,KAAnF;AAAsF;AAAC,CADzF;;AAC0FvB,OAAO,CAACE,OAAR,GAAgBG,QAAhB","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _router=_interopRequireDefault(require(\"next/router\"));var _onDemandEntriesUtils=require(\"./on-demand-entries-utils\");var _default=async(_ref)=>{var{assetPrefix}=_ref;_router.default.ready(()=>{_router.default.events.on('routeChangeComplete',_onDemandEntriesUtils.setupPing.bind(void 0,assetPrefix,()=>_router.default.pathname));});(0,_onDemandEntriesUtils.setupPing)(assetPrefix,()=>_router.default.pathname,_onDemandEntriesUtils.currentPage);// prevent HMR connection from being closed when running tests\nif(!process.env.__NEXT_TEST_MODE){document.addEventListener('visibilitychange',event=>{var state=document.visibilityState;if(state==='visible'){(0,_onDemandEntriesUtils.setupPing)(assetPrefix,()=>_router.default.pathname,true);}else{(0,_onDemandEntriesUtils.closePing)();}});window.addEventListener('beforeunload',()=>{(0,_onDemandEntriesUtils.closePing)();});}};exports.default=_default;"]},"metadata":{},"sourceType":"script"}